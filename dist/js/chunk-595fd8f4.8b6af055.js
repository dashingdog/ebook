(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-595fd8f4"],{"0106":function(t,e,i){"use strict";var a=i("f977"),s=i.n(a);s.a},"0933":function(t,e,i){},"1a37":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"store-home"},[i("search-bar"),i("flap-card",{attrs:{data:t.random}}),i("scroll",{ref:"scroll",attrs:{top:t.scrollTop},on:{onScroll:t.onScroll}},[i("div",{staticClass:"banner-wrapper"},[i("div",{staticClass:"banner-img",style:{backgroundImage:"url('"+t.banner+"')"}})]),i("guess-you-like",{attrs:{data:t.guessYouLike}}),i("recommend",{staticClass:"recommend",attrs:{data:t.recommend}}),i("featured",{staticClass:"featured",attrs:{titleText:t.$t("home.featured"),btnText:t.$t("home.seeAll"),data:t.featured}}),t._l(t.categoryList,function(t,e){return i("div",{key:e,staticClass:"category-list-wrapper"},[i("category-book",{attrs:{data:t}})],1)}),i("category",{staticClass:"categories",attrs:{data:t.categories}})],2)],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search-bar",class:{"hide-title":!t.titleVisible,"hide-shadow":!t.shadowVisible}},[i("transition",{attrs:{name:"title-move"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.titleVisible,expression:"titleVisible"}],staticClass:"search-bar-title-wrapper"},[i("div",{staticClass:"title-text-wrapper"},[i("span",{staticClass:"title-text title"},[t._v(t._s(t.$t("home.title")))])]),i("div",{staticClass:"title-icon-shake-wrapper",on:{click:t.showFlapCard}},[i("span",{staticClass:"icon-shake icon"})])])]),i("div",{staticClass:"title-icon-back-wrapper",class:{"hide-title":!t.titleVisible},on:{click:t.back}},[i("span",{staticClass:"icon-back icon"})]),i("div",{staticClass:"search-bar-input-wrapper",class:{"hide-title":!t.titleVisible}},[i("div",{staticClass:"search-bar-blank",class:{"hide-title":!t.titleVisible}}),i("div",{staticClass:"search-bar-input"},[i("span",{staticClass:"icon-search icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("home.hint")},domProps:{value:t.searchText},on:{click:t.showHotSearch,keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.search(e):null},input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])])],1),i("hot-search-list",{directives:[{name:"show",rawName:"v-show",value:t.hotSearchVisible,expression:"hotSearchVisible"}],ref:"hotSearch"})],1)},o=[],n=i("ac0d"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"hot-search-move"}},[i("scroll",{ref:"scroll",staticClass:"hot-search-wrapper",attrs:{top:52},on:{onScroll:t.onScroll}},[i("hot-search",{attrs:{label:t.$t("home.hotSearch"),btn:t.$t("home.change"),hotSearch:t.searchList.hotSearch}}),i("div",{staticClass:"line"}),i("hot-search",{attrs:{label:t.$t("home.historySearch"),btn:t.$t("home.clear"),hotSearch:t.searchList.historySearch}})],1)],1)},l=[],h=i("6701"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"hot-search-title"},[i("span",{staticClass:"label"},[t._v(t._s(t.label))]),i("span",{staticClass:"btn"},[t._v(t._s(t.btn))])]),i("div",{staticClass:"hot-search-list"},t._l(t.hotSearch,function(e,a){return i("div",{key:a,staticClass:"hot-search-item"},[i("div",{staticClass:"icon-wrapper"},[1===e.type?i("span",{staticClass:"icon-book icon"}):t._e(),2===e.type?i("span",{staticClass:"icon-search icon"}):t._e()]),i("div",{staticClass:"hot-search-text-wrapper"},[i("div",{ref:"searchText",refInFor:!0,staticClass:"text"},[t._v(t._s(e.text))]),e.num?i("div",{staticClass:"num"},[t._v(t._s(e.num)+"人搜索")]):t._e()])])}),0)])},d=[],f=(i("ac6a"),i("fa7d")),p={props:{label:String,btn:String,hotSearch:Array},mounted:function(){this.$refs.searchText.forEach(function(t){t.style.width=window.innerWidth-Object(f["b"])(20)-Object(f["b"])(40)+"px"})}},m=p,v=(i("ded8"),i("2877")),b=Object(v["a"])(m,u,d,!1,null,"1317f122",null),C=b.exports,g={mixins:[n["b"]],components:{Scroll:h["a"],HotSearch:C},data:function(){return{searchList:{hotSearch:[{type:1,text:"Self-Reported Population Health",num:"1.8万"},{type:1,text:"Library and Information Sciences",num:"1.1万"},{type:1,text:"Global Business Strategy",num:"1.3万"},{type:1,text:"Corporate Data Quality",num:"1.0万"},{type:1,text:"Verrechnungspreise",num:"3.9万"}],historySearch:[{type:2,text:"Computer Science"},{type:1,text:"Building the Infrastructure for Cloud Security"},{type:2,text:"ePub"},{type:2,text:"api"},{type:2,text:"Vue.js"},{type:2,text:"Nginx"},{type:2,text:"Java"},{type:2,text:"hdfs"},{type:2,text:"vuejs"},{type:2,text:"es6"},{type:2,text:"Intel"},{type:1,text:"Pro Git"},{type:2,text:"imooc"},{type:2,text:"Education"},{type:2,text:"Springer"},{type:2,text:"Environment"}]}}},methods:{onScroll:function(t){this.setHotSearchOffsetY(t)},reset:function(){this.$refs.scroll.scrollTo(0,0)}}},y=g,w=(i("61af"),Object(v["a"])(y,c,l,!1,null,"46d1ff26",null)),k=w.exports,x={components:{HotSearchList:k},mixins:[n["b"]],data:function(){return{searchText:"",titleVisible:!0,shadowVisible:!1,hotSearchVisible:!1}},watch:{offsetY:function(t){t>0?(this.hideTitle(),this.showShadow()):(this.showTitle(),this.hideShadow())},hotSearchOffsetY:function(t){t>0?this.showShadow():this.hideShadow()}},methods:{search:function(){this.$router.push({path:"/store/list",query:{keyword:this.searchText}})},showFlapCard:function(){this.setFlapCardVisible(!0)},back:function(){this.offsetY>0?this.showShadow():this.hideShadow(),this.hotSearchVisible?this.hideHotSearch():this.$router.push("/store/shelf")},showHotSearch:function(){var t=this;this.hideTitle(),this.hideShadow(),this.hotSearchVisible=!0,this.$nextTick(function(){t.$refs.hotSearch.reset()})},hideHotSearch:function(){this.hotSearchVisible=!1,this.offsetY>0?(this.hideTitle(),this.showShadow()):(this.showTitle(),this.hideShadow())},hideTitle:function(){this.titleVisible=!1},showTitle:function(){this.titleVisible=!0},hideShadow:function(){this.shadowVisible=!1},showShadow:function(){this.shadowVisible=!0}}},_=x,S=(i("0106"),Object(v["a"])(_,r,o,!1,null,"5b71e031",null)),$=S.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.flapCardVisible,expression:"flapCardVisible"}],staticClass:"flap-card-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.runFlapCardAnimation,expression:"runFlapCardAnimation"}],staticClass:"flap-card-bg",class:{animation:t.runFlapCardAnimation}},[t._l(t.flapCardList,function(e,a){return i("div",{key:a,staticClass:"flap-card",style:{zIndex:e.zIndex}},[i("div",{staticClass:"flap-card-circle"},[i("div",{ref:"left",refInFor:!0,staticClass:"flap-card-semi-circle flap-card-semi-circle-left",style:t.semiCircleStyle(e,"left")}),i("div",{ref:"right",refInFor:!0,staticClass:"flap-card-semi-circle flap-card-semi-circle-right",style:t.semiCircleStyle(e,"right")})])])}),i("div",{staticClass:"point-wrapper"},t._l(t.pointList,function(e){return i("div",{key:e,staticClass:"point",class:{animation:t.runPointAnimation}})}),0)],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.runBookCardAnimation,expression:"runBookCardAnimation"}],staticClass:"book-card",class:{animation:t.runBookCardAnimation}},[i("div",{staticClass:"book-card-wrapper"},[i("div",{staticClass:"img-wrapper"},[i("img",{staticClass:"img",attrs:{src:t.data?t.data.cover:""}})]),i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"content-title"},[t._v(t._s(t.data?t.data.title:""))]),i("div",{staticClass:"content-author sub-title-medium"},[t._v(t._s(t.data?t.data.author:""))]),i("div",{staticClass:"content-category"},[t._v(t._s(t.categoryText()))])]),i("div",{staticClass:"read-btn",on:{click:function(e){return e.stopPropagation(),t.showBookDetail(t.data)}}},[t._v(t._s(t.$t("home.readNow")))])])]),i("div",{staticClass:"close-btn-wrapper",on:{click:t.close}},[i("div",{staticClass:"icon-close"})])])},A=[],L=i("da6f"),V={mixins:[n["b"]],props:{data:Object},data:function(){return{flapCardList:L["g"],front:0,back:1,intervalTime:25,runFlapCardAnimation:!1,pointList:null,runPointAnimation:!1,runBookCardAnimation:!1}},watch:{flapCardVisible:function(t){t&&this.runAnimation()}},methods:{close:function(){this.stopAnimation(),this.setFlapCardVisible(!1)},semiCircleStyle:function(t,e){return{backgroundColor:"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"),backgroundSize:t.backgroundSize,backgroundImage:"left"===e?t.imgLeft:t.imgRight}},rotate:function(t,e){var i,a=this.flapCardList[t];i="front"===e?this.$refs.right[t]:this.$refs.left[t],i.style.transform="rotateY(".concat(a.rotateDegree,"deg)"),i.style.backgroundColor="rgb(".concat(a.r,", ").concat(a._g,", ").concat(a.b,")")},flapCardRotate:function(){var t=this.flapCardList[this.front],e=this.flapCardList[this.back];t.rotateDegree+=10,t._g-=5,e.rotateDegree-=10,e.rotateDegree<90&&(e._g+=5),90===t.rotateDegree&&90===e.rotateDegree&&(e.zIndex+=2),this.rotate(this.front,"front"),this.rotate(this.back,"back"),180===t.rotateDegree&&0===e.rotateDegree&&this.next()},next:function(){var t=this,e=this.flapCardList[this.front],i=this.flapCardList[this.back];e.rotateDegree=0,i.rotateDegree=0,e._g=e.g,i._g=i.g,this.rotate(this.front,"front"),this.rotate(this.back,"back"),this.front++,this.back++;var a=this.flapCardList.length;this.front>=a&&(this.front=0),this.back>=a&&(this.back=0),this.flapCardList.forEach(function(e,i){e.zIndex=100-(i-t.front+a)%a}),this.prepare()},prepare:function(){var t=this.flapCardList[this.back];t.rotateDegree=180,t._g=t.g-45,this.rotate(this.back,"back")},reset:function(){var t=this;this.front=0,this.back=1,this.flapCardList.forEach(function(e,i){e.zIndex=100-i,e._g=e.g,e.rotateDegree=0,t.rotate(i,"front"),t.rotate(i,"back")}),this.runBookCardAnimation=!1,this.runFlapCardAnimation=!1,this.runPointAnimation=!1},startFlapCardAnimation:function(){var t=this;this.prepare(),this.task=setInterval(function(){t.flapCardRotate()},this.intervalTime)},startPointAnimation:function(){var t=this;this.runPointAnimation=!0,setTimeout(function(){t.runPointAnimation=!1},750)},stopAnimation:function(){this.task&&clearInterval(this.task),this.timeout&&clearTimeout(this.timeout),this.timeout2&&clearTimeout(this.timeout2),this.reset()},runAnimation:function(){var t=this;this.runFlapCardAnimation=!0,this.timeout=setTimeout(function(){t.startFlapCardAnimation(),t.startPointAnimation()},300),this.timeout2=setTimeout(function(){t.stopAnimation(),t.runBookCardAnimation=!0},2500)},categoryText:function(){return this.data?Object(L["d"])(this.data.category,this):""}},created:function(){this.pointList=[];for(var t=0;t<18;t++)this.pointList.push("point".concat(t))}},O=V,F=(i("de35"),Object(v["a"])(O,T,A,!1,null,"fcbe17b8",null)),j=F.exports,I=i("73f5"),B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"guess-you-like"},[i("title-view",{attrs:{label:t.$t("home.guessYouLike"),btn:t.$t("home.change")},on:{onClick:t.change}}),i("div",{staticClass:"guess-you-like-list"},t._l(t.showData,function(e,a){return i("div",{key:a,staticClass:"guess-you-like-item",on:{click:function(i){return t.showBookDetail(e)}}},[i("div",{staticClass:"img-wrapper"},[i("img",{staticClass:"img",attrs:{src:e.cover}})]),i("div",{staticClass:"content-wrapper"},[i("div",{ref:"title",refInFor:!0,staticClass:"title title-big"},[t._v(t._s(e.title))]),i("div",{ref:"author",refInFor:!0,staticClass:"author sub-title"},[t._v(t._s(e.author))]),i("div",{ref:"result",refInFor:!0,staticClass:"result third-title"},[t._v(t._s(t.resultText(e)))])])])}),0)],1)},D=[],E=(i("a481"),i("8c8f")),P={mixins:[n["b"]],components:{TitleView:E["a"]},props:{data:Array},watch:{data:function(t){this.total=t.length/3}},computed:{width:function(){return window.innerWidth-Object(f["b"])(20)-Object(f["b"])(60)+"px"},showData:function(){return this.data?[this.data[this.index],this.data[this.index+this.total],this.data[this.index+2*this.total]]:[]}},data:function(){return{index:0,total:0}},methods:{change:function(){this.index+1>=this.total?this.index=0:this.index++},resultText:function(t){if(t&&t.type&&t.result)switch(t.type){case 1:return this.$t("home.sameAuthor").replace("$1",t.result);case 2:return this.$t("home.sameReader").replace("$1",t.result);case 3:return this.$t("home.readPercent").replace("$1",t.percent).replace("$2",t.result)}},resize:function(){var t=this;this.$nextTick(function(){t.$refs.title.forEach(function(e){e.style.width=t.width}),t.$refs.author.forEach(function(e){e.style.width=t.width}),t.$refs.result.forEach(function(e){e.style.width=t.width})})}}},Y=P,z=(i("459d"),Object(v["a"])(Y,B,D,!1,null,"57e8fd61",null)),H=z.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend"},[i("title-view",{attrs:{label:t.$t("home.recommend"),btn:t.$t("home.seeAll")}}),i("div",{staticClass:"recommend-list"},t._l(t.data,function(e,a){return i("div",{key:a,staticClass:"recommend-item",on:{click:function(i){return t.showBookDetail(e)}}},[i("div",{staticClass:"img-wrapper"},[i("img",{staticClass:"img",attrs:{src:e.cover}})]),i("div",{staticClass:"content-wrapper"},[i("div",{ref:"title",refInFor:!0,staticClass:"title title-medium"},[t._v(t._s(e.title))]),i("div",{ref:"num",refInFor:!0,staticClass:"num sub-title"},[t._v(t._s(t.$t("home.readers").replace("$1",e.readers)))])])])}),0)],1)},R=[],K={mixins:[n["b"]],components:{TitleView:E["a"]},props:{data:Array}},q=K,G=(i("a9fd"),Object(v["a"])(q,N,R,!1,null,"c37da71e",null)),J=G.exports,M=i("cbe5"),W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"category-book"},[i("title-view",{attrs:{label:t.categoryText(t.data.category),btn:t.$t("home.seeAll")},on:{onClick:t.showBookCategory}}),i("div",{staticClass:"category-book-list"},t._l(t.data.list,function(e,a){return i("div",{key:a,staticClass:"category-book-item",on:{click:function(i){return t.showBookDetail(e)}}},[i("div",{staticClass:"img-wrapper"},[i("img",{staticClass:"img",attrs:{src:e.cover}})]),i("div",{staticClass:"content-wrapper"},[i("div",{ref:"title",refInFor:!0,staticClass:"title title-small"},[t._v(t._s(e.title))]),i("div",{ref:"author",refInFor:!0,staticClass:"num sub-title-tiny"},[t._v(t._s(e.author))])])])}),0)],1)},Q=[],U={mixins:[n["b"]],components:{TitleView:E["a"]},props:{data:Object},methods:{showBookCategory:function(){this.$router.push({path:"/store/list",query:{category:Object(L["h"])(this.data.category),categoryText:this.categoryText(this.data.category)}})},categoryText:function(t){return Object(L["d"])(t,this)}}},X=U,Z=(i("363e"),Object(v["a"])(X,W,Q,!1,null,"eb28bd8e",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"category"},[i("title-view",{attrs:{label:t.$t("home.category"),btn:t.$t("home.seeAll")},on:{onClick:t.showBookList}}),i("div",{staticClass:"category-list"},t._l(t.data,function(e,a){return i("div",{key:a,staticClass:"category-item-wrapper",on:{click:function(i){return t.showBookCategory(e)}}},[i("div",{staticClass:"category-item"},[i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"title title-medium"},[t._v(t._s(t.categoryText(e.category)))]),i("div",{staticClass:"num sub-title-tiny"},[t._v(t._s(e.num+" "+t.$t("home.books")))])]),i("div",{staticClass:"img-wrapper"},[i("div",{staticClass:"img-group"},[i("img",{staticClass:"img",attrs:{src:e.img1}}),i("img",{staticClass:"img2",attrs:{src:e.img2}})])])])])}),0)],1)},it=[],at={components:{TitleView:E["a"]},props:{data:Array},methods:{showBookCategory:function(t){this.$router.push({path:"/store/list",query:{category:Object(L["h"])(t.category),categoryText:this.categoryText(t.category)}})},categoryText:function(t){return Object(L["d"])(t,this)},showBookList:function(){this.$router.push("/store/list")}}},st=at,rt=(i("bb35"),Object(v["a"])(st,et,it,!1,null,"55caf0b0",null)),ot=rt.exports,nt={mixins:[n["b"]],components:{SearchBar:$,Scroll:h["a"],FlapCard:j,GuessYouLike:H,Recommend:J,Featured:M["a"],CategoryBook:tt,Category:ot},data:function(){return{scrollTop:94,random:null,banner:"",guessYouLike:null,recommend:null,featured:null,categoryList:null,categories:null}},methods:{onScroll:function(t){this.setOffsetY(t),this.scrollTop=t>0?52:94,this.$refs.scroll.refresh()}},mounted:function(){var t=this;Object(I["d"])().then(function(e){if(e&&200===e.status){var i=e.data,a=Math.floor(Math.random()*i.random.length);t.random=i.random[a],t.banner=i.banner,t.guessYouLike=i.guessYouLike,t.recommend=i.recommend,t.featured=i.featured,t.categoryList=i.categoryList,t.categories=i.categories}})}},ct=nt,lt=(i("648b"),Object(v["a"])(ct,a,s,!1,null,"544be59d",null));e["default"]=lt.exports},"230d":function(t,e,i){},"363e":function(t,e,i){"use strict";var a=i("3e70"),s=i.n(a);s.a},"3e70":function(t,e,i){},"459d":function(t,e,i){"use strict";var a=i("8ba0"),s=i.n(a);s.a},4833:function(t,e,i){},"59ac":function(t,e,i){},"61af":function(t,e,i){"use strict";var a=i("0933"),s=i.n(a);s.a},"648b":function(t,e,i){"use strict";var a=i("6672"),s=i.n(a);s.a},6672:function(t,e,i){},"8ba0":function(t,e,i){},"9ada":function(t,e,i){},a9fd:function(t,e,i){"use strict";var a=i("4833"),s=i.n(a);s.a},bb35:function(t,e,i){"use strict";var a=i("230d"),s=i.n(a);s.a},de35:function(t,e,i){"use strict";var a=i("9ada"),s=i.n(a);s.a},ded8:function(t,e,i){"use strict";var a=i("59ac"),s=i.n(a);s.a},f977:function(t,e,i){}}]);
//# sourceMappingURL=chunk-595fd8f4.8b6af055.js.map