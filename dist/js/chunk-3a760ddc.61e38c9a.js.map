{"version":3,"sources":["webpack:///./src/components/speak/SpeakBottom.vue?8a68","webpack:///./src/components/speak/SpeakMask.vue?96c5","webpack:///./src/components/speak/SpeakBottom.vue?4e45","webpack:///src/components/speak/SpeakBottom.vue","webpack:///./src/components/speak/SpeakBottom.vue?1361","webpack:///./src/components/speak/SpeakBottom.vue","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/components/speak/SpeakMask.vue?7d62","webpack:///src/components/speak/SpeakMask.vue","webpack:///./src/components/speak/SpeakMask.vue?1b72","webpack:///./src/components/speak/SpeakMask.vue","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./src/views/store/StoreSpeaking.vue?1eaf","webpack:///src/views/store/StoreSpeaking.vue","webpack:///./src/components/speak/SpeakPlaying.vue?7f6e","webpack:///./src/components/speak/SpeakPlaying.vue?65b2","webpack:///src/components/speak/SpeakPlaying.vue","webpack:///./src/components/speak/SpeakPlaying.vue?4c13","webpack:///./src/components/speak/SpeakPlaying.vue","webpack:///./src/views/store/StoreSpeaking.vue?400b","webpack:///./src/views/store/StoreSpeaking.vue?684a","webpack:///./src/views/store/StoreSpeaking.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakBottom_vue_vue_type_style_index_0_id_432e6306_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakBottom_vue_vue_type_style_index_0_id_432e6306_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakMask_vue_vue_type_style_index_0_id_6d111f9e_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakMask_vue_vue_type_style_index_0_id_6d111f9e_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","hide-play","showPlay","on","click","$event","stopPropagation","preventDefault","onPlayingCardClick","togglePlay","isPlaying","_v","_s","chapter","label","currentSectionIndex","currentSectionTotal","_e","playInfo","currentMinute","currentSecond","totalMinute","totalSecond","$t","staticRenderFns","SpeakBottomvue_type_script_lang_js_","props","Object","Number","Boolean","methods","$parent","$emit","speak_SpeakBottomvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","flags","f","RegExp","prototype","configurable","get","attrs","name","directives","rawName","value","expression","hide","title","ref","type","max","min","step","domProps","progress","change","onProgressChange","target","input","onProgressInput","leftMinute","leftSecond","not-use","prev","next","id","SpeakMaskvue_type_script_lang_js_","String","book","section","data","visible","speakCardVisible","readHeight","refreshProgress","p","$refs","style","backgroundSize","concat","updateText","promise","_this","then","currentPage","rendition","currentLocation","cfibase","cfiBase","cfistart","start","cfi","replace","cfiend","end","getRange","range","text","toString","_this2","resetPlay","setTimeout","_this3","display","displayed","href","renderTo","width","window","innerWidth","height","method","show","_this4","refresh","$nextTick","innerHeight","utils","bookWrapper","speak_SpeakMaskvue_type_script_lang_js_","anObject","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","call","source","R","undefined","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StoreSpeaking_vue_vue_type_style_index_0_id_61ce9983_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StoreSpeaking_vue_vue_type_style_index_0_id_61ce9983_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","global","ePub","epubjs__WEBPACK_IMPORTED_MODULE_12__","components","DetailTitle","_components_detail_DetaiTitle__WEBPACK_IMPORTED_MODULE_2__","BookInfo","_components_detail_BookInfo__WEBPACK_IMPORTED_MODULE_3__","Scroll","_components_common_Scroll__WEBPACK_IMPORTED_MODULE_4__","SpeakPlaying","_components_speak_SpeakPlaying__WEBPACK_IMPORTED_MODULE_5__","Bottom","_components_speak_SpeakBottom__WEBPACK_IMPORTED_MODULE_6__","SpeakWindow","_components_speak_SpeakMask__WEBPACK_IMPORTED_MODULE_7__","computed","m","Math","floor","currentPlayingTime","s","parseInt","totalPlayingTime","audioCanPlay","lang","metadata","language","disableScroll","speakWindow","playingIndex","scrollBottom","flatNavigation","desc","description","substring","navigation","Array","apply","doFlatNavigation","toc","category","bookItem","_utils_store__WEBPACK_IMPORTED_MODULE_8__","author","creator","cover","ifShowContent","paragraph","audio","playStatus","toastText","isOnline","createVoice","xmlhttp","XMLHttpRequest","open","toLowerCase","send","xmlDoc","responseText","json","JSON","parse","path","src","continuePlay","showToast","pausePlay","play","speak","item","index","scroll","spine","page","total","toLocaleString","speakPlaying","startAnimation","pause","stopAnimation","onAudioEnded","currentTime","percent","onTimeUpdate","onCanPlay","duration","findBookFromList","fileName","_api_store__WEBPACK_IMPORTED_MODULE_9__","response","status","bookList","filter","length","init","$route","query","_utils_localForage__WEBPACK_IMPORTED_MODULE_10__","err","blob","opf","parseBook","downloadBook","_this5","_this6","loaded","coverUrl","url","archive","createUrl","nav","back","$router","go","onScroll","offsetY","_utils_utils__WEBPACK_IMPORTED_MODULE_11__","showShadow","hideShadow","toggleContent","content","_this7","deep","arguments","arr","forEach","push","subitems","simpleToast","mounted","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakPlaying_vue_vue_type_style_index_0_id_567c8274_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakPlaying_vue_vue_type_style_index_0_id_567c8274_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_l","key","refInFor","SpeakPlayingvue_type_script_lang_js_","number","styles","i","random","task","setInterval","playingItem","clearInterval","ceil","speak_SpeakPlayingvue_type_script_lang_js_","top","bottom","ifNoScroll","icon-down2","icon-up","is-playing","canplay","timeupdate","ended","update:isPlaying","update:is-playing","_m","update:currentSectionIndex","update:current-section-index","store_StoreSpeakingvue_type_script_lang_js_","StoreSpeakingvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-3a760ddc.61e38c9a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=style&index=0&id=432e6306&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=style&index=0&id=432e6306&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=style&index=0&id=6d111f9e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=style&index=0&id=6d111f9e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom-wrapper\",class:{'hide-play': !_vm.showPlay}},[(_vm.showPlay)?_c('div',{staticClass:\"bottom-playing-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onPlayingCardClick($event)}}},[_c('div',{staticClass:\"bottom-playing-left\"},[_c('div',{staticClass:\"icon-play-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlay($event)}}},[(!_vm.isPlaying)?_c('span',{staticClass:\"icon-play_go\"}):_c('span',{staticClass:\"icon-play_pause\"})])]),_c('div',{staticClass:\"bottom-playing-right\"},[_c('div',{staticClass:\"bottom-playing-chapter-text\"},[_c('span',{staticClass:\"chapter-label\"},[_vm._v(_vm._s(_vm.chapter ? _vm.chapter.label : ''))]),(_vm.currentSectionIndex && _vm.currentSectionTotal)?_c('span',{staticClass:\"bottom-playing-page-text\"},[_vm._v(\"( \"+_vm._s(_vm.currentSectionIndex)+\" / \"+_vm._s(_vm.currentSectionTotal)+\" )\")]):_vm._e()]),_c('div',{staticClass:\"bottom-playing-page-text\"},[_vm._v(_vm._s(_vm.playInfo ? _vm.playInfo.currentMinute : '00')+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.currentSecond : '00')+\" / \"+_vm._s(_vm.playInfo ? _vm.playInfo.totalMinute : '00')+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.totalSecond : '00'))])])]):_vm._e(),_c('div',{staticClass:\"bottom-btn-wrapper\"},[_c('span',{staticClass:\"bottom-btn-text\"},[_vm._v(_vm._s(_vm.$t('detail.addOrRemoveShelf')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"bottom-wrapper\" :class=\"{'hide-play': !showPlay}\">\n    <div class=\"bottom-playing-wrapper\" @click.stop.prevent=\"onPlayingCardClick\" v-if=\"showPlay\">\n      <div class=\"bottom-playing-left\">\n        <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\n          <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\n          <span class=\"icon-play_pause\" v-else></span>\n        </div>\n      </div>\n      <div class=\"bottom-playing-right\">\n        <div class=\"bottom-playing-chapter-text\">\n          <span class=\"chapter-label\">{{chapter ? chapter.label : ''}}</span>\n          <span class=\"bottom-playing-page-text\" v-if=\"currentSectionIndex && currentSectionTotal\">( {{currentSectionIndex}} / {{currentSectionTotal}} )</span>\n        </div>\n        <div class=\"bottom-playing-page-text\">{{playInfo ? playInfo.currentMinute : '00'}}:{{playInfo ? playInfo.currentSecond : '00'}} / {{playInfo ? playInfo.totalMinute : '00'}}:{{playInfo ? playInfo.totalSecond : '00'}}</div>\n      </div>\n    </div>\n    <div class=\"bottom-btn-wrapper\">\n      <span class=\"bottom-btn-text\">{{$t('detail.addOrRemoveShelf')}}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    chapter: Object,\n    currentSectionIndex: Number,\n    currentSectionTotal: Number,\n    showPlay: Boolean,\n    isPlaying: Boolean,\n    playInfo: Object\n  },\n  methods: {\n    togglePlay () {\n      this.$parent.togglePlay()\n    },\n    onPlayingCardClick () {\n      this.$emit('onPlayingCardClick')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n\n  .bottom-wrapper {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    z-index: 110;\n    width: 100%;\n    height: px2rem(116);\n    background: white;\n    box-shadow: 0 px2rem(-2) px2rem(2) 0 rgba(0, 0, 0, .1);\n    &.hide-play {\n      height: px2rem(52);\n    }\n    .bottom-playing-wrapper {\n      display: flex;\n      width: 100%;\n      height: px2rem(64);\n      .bottom-playing-left {\n        flex: 0 0 px2rem(70);\n        width: px2rem(70);\n        @include center;\n        .icon-play-wrapper {\n          flex: 0 0 px2rem(100);\n          @include center;\n          &:active {\n            opacity: .5;\n          }\n          .icon-play_go {\n            font-size: px2rem(40);\n            color: $color-blue;\n          }\n          .icon-play_pause {\n            font-size: px2rem(40);\n            color: $color-blue;\n          }\n        }\n      }\n      .bottom-playing-right {\n        flex: 1;\n        padding-right: px2rem(15);\n        box-sizing: border-box;\n        @include columnLeft;\n        .bottom-playing-chapter-text {\n          max-width: px2rem(305);\n          color: #333;\n          font-size: px2rem(16);\n          line-height: px2rem(19);\n          @include ellipsis;\n        }\n        .bottom-playing-page-text {\n          color: #666;\n          font-size: px2rem(10);\n          margin-top: px2rem(5);\n        }\n      }\n    }\n    .bottom-btn-wrapper {\n      width: 100%;\n      height: px2rem(52);\n      border-top: px2rem(1) solid #eee;\n      box-sizing: border-box;\n      @include center;\n      .bottom-btn-text {\n        font-size: px2rem(14);\n        color: $color-blue;\n        font-weight: bold;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakBottom.vue?vue&type=template&id=432e6306&scoped=true&\"\nimport script from \"./SpeakBottom.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakBottom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakBottom.vue?vue&type=style&index=0&id=432e6306&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"432e6306\",\n  null\n  \n)\n\nexport default component.exports","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"book-speak-mask-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hide($event)}}},[_c('transition',{attrs:{\"name\":\"popup-slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.speakCardVisible),expression:\"speakCardVisible\"}],staticClass:\"book-speak-mask-card-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hide($event)}}},[_c('div',{staticClass:\"pulldown-icon-wrapper\",on:{\"click\":_vm.hide}},[_c('span',{staticClass:\"icon-pull_down\"})]),_c('div',{staticClass:\"card-title-wrapper\"},[_c('div',{staticClass:\"icon-speak-wrapper\"},[_c('span',{staticClass:\"icon-speak\"})]),_c('div',{staticClass:\"speak-title-wrapper\"},[_c('span',{staticClass:\"speak-title\"},[_vm._v(_vm._s(_vm.$t('speak.voice')))])]),_c('div',{staticClass:\"read-fulltext-wrapper\"},[_c('span',{staticClass:\"read-fulltext\"},[_vm._v(_vm._s(_vm.$t('speak.read')))])])]),_c('div',{staticClass:\"card-section-title-wrapper\"},[_c('div',{staticClass:\"card-section-title-text\"},[_vm._v(_vm._s(_vm.title))]),(_vm.currentSectionIndex)?_c('div',{staticClass:\"card-section-sub-title-text\"},[_vm._v(_vm._s(_vm.currentSectionIndex)+\" /\\n            \"+_vm._s(_vm.currentSectionTotal)+\"\\n          \")]):_vm._e()]),_c('div',{staticClass:\"setting-progress\"},[_c('div',{staticClass:\"progress-wrapper\"},[_c('input',{ref:\"progress\",staticClass:\"progress\",attrs:{\"type\":\"range\",\"max\":\"100\",\"min\":\"0\",\"step\":\"1\"},domProps:{\"value\":_vm.progress},on:{\"change\":function($event){return _vm.onProgressChange($event.target.value)},\"input\":function($event){return _vm.onProgressInput($event.target.value)}}})]),_c('div',{staticClass:\"progress-text\"},[_c('div',{staticClass:\"progress-text-current\"},[_vm._v(_vm._s(_vm.playInfo ? _vm.playInfo.currentMinute : '00')+\":\"+_vm._s(_vm.playInfo ?\n              _vm.playInfo.currentSecond : '00')+\"\\n            \")]),_c('div',{staticClass:\"progress-text-left\"},[_vm._v(\"-\"+_vm._s(_vm.playInfo ? _vm.playInfo.leftMinute : '00')+\":\"+_vm._s(_vm.playInfo ?\n              _vm.playInfo.leftSecond : '00')+\"\\n            \")])])]),_c('div',{staticClass:\"playing-wrapper\"},[_c('div',{staticClass:\"icon-settings-wrapper\"},[_c('span',{staticClass:\"icon-settings\"}),_c('div',{staticClass:\"settings-text\"},[_vm._v(_vm._s(_vm.$t('speak.settings')))])]),_c('span',{staticClass:\"icon-play_backward\",class:{'not-use': _vm.currentSectionIndex <= 1},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.prev($event)}}}),_c('div',{staticClass:\"icon-play-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlay($event)}}},[(!_vm.isPlaying)?_c('span',{staticClass:\"icon-play_go\"}):_c('span',{staticClass:\"icon-play_pause\"})]),_c('span',{staticClass:\"icon-play_forward\",class:{'not-use': _vm.currentSectionIndex >= _vm.currentSectionTotal},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.next($event)}}}),_c('div',{staticClass:\"icon-clock-wrapper\"},[_c('span',{staticClass:\"icon-clock\"}),_c('div',{staticClass:\"clock-text\"},[_vm._v(_vm._s(_vm.$t('speak.timing')))])])]),_c('div',{staticClass:\"read-apply-wrapper\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('speak.apply'))+\"\\n        \")]),_c('div',{staticClass:\"read-title-wrapper\"},[_c('span',{staticClass:\"line\"}),_c('div',{staticClass:\"read-title-text\"},[_vm._v(_vm._s(_vm.$t('speak.current')))]),_c('span',{staticClass:\"line\"})]),_c('div',{ref:\"bookWrapper\",staticClass:\"book-wrapper\"},[_c('div',{attrs:{\"id\":\"book-read\"}})])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition name=\"fade\">\n    <div class=\"book-speak-mask-wrapper\" @click.stop.prevent=\"hide\" v-show=\"visible\">\n      <transition name=\"popup-slide-up\">\n        <div class=\"book-speak-mask-card-wrapper\" v-show=\"speakCardVisible\" @click.stop.prevent=\"hide\">\n          <div class=\"pulldown-icon-wrapper\" @click=\"hide\">\n            <span class=\"icon-pull_down\"></span>\n          </div>\n          <div class=\"card-title-wrapper\">\n            <div class=\"icon-speak-wrapper\">\n              <span class=\"icon-speak\"></span>\n            </div>\n            <div class=\"speak-title-wrapper\">\n              <span class=\"speak-title\">{{$t('speak.voice')}}</span>\n            </div>\n            <div class=\"read-fulltext-wrapper\">\n              <span class=\"read-fulltext\">{{$t('speak.read')}}</span>\n            </div>\n          </div>\n          <div class=\"card-section-title-wrapper\">\n            <div class=\"card-section-title-text\">{{title}}</div>\n            <div class=\"card-section-sub-title-text\" v-if=\"currentSectionIndex\">{{currentSectionIndex}} /\n              {{currentSectionTotal}}\n            </div>\n          </div>\n          <div class=\"setting-progress\">\n            <div class=\"progress-wrapper\">\n              <input class=\"progress\" type=\"range\"\n                     max=\"100\"\n                     min=\"0\"\n                     step=\"1\"\n                     @change=\"onProgressChange($event.target.value)\"\n                     @input=\"onProgressInput($event.target.value)\"\n                     :value=\"progress\"\n                     ref=\"progress\">\n            </div>\n            <div class=\"progress-text\">\n              <div class=\"progress-text-current\">{{playInfo ? playInfo.currentMinute : '00'}}:{{playInfo ?\n                playInfo.currentSecond : '00'}}\n              </div>\n              <div class=\"progress-text-left\">-{{playInfo ? playInfo.leftMinute : '00'}}:{{playInfo ?\n                playInfo.leftSecond : '00'}}\n              </div>\n            </div>\n          </div>\n          <div class=\"playing-wrapper\">\n            <div class=\"icon-settings-wrapper\">\n              <span class=\"icon-settings\"></span>\n              <div class=\"settings-text\">{{$t('speak.settings')}}</div>\n            </div>\n            <span class=\"icon-play_backward\" :class=\"{'not-use': currentSectionIndex <= 1}\" @click.stop.prevent=\"prev\"></span>\n            <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\n              <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\n              <span class=\"icon-play_pause\" v-else></span>\n            </div>\n            <span class=\"icon-play_forward\" :class=\"{'not-use': currentSectionIndex >= currentSectionTotal}\"\n                  @click.stop.prevent=\"next\"></span>\n            <div class=\"icon-clock-wrapper\">\n              <span class=\"icon-clock\"></span>\n              <div class=\"clock-text\">{{$t('speak.timing')}}</div>\n            </div>\n          </div>\n          <div class=\"read-apply-wrapper\">\n            {{$t('speak.apply')}}\n          </div>\n          <div class=\"read-title-wrapper\">\n            <span class=\"line\"></span>\n            <div class=\"read-title-text\">{{$t('speak.current')}}</div>\n            <span class=\"line\"></span>\n          </div>\n          <div class=\"book-wrapper\" ref=\"bookWrapper\">\n            <div id=\"book-read\"></div>\n          </div>\n        </div>\n      </transition>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { realPx } from '@/utils/utils'\n\nexport default {\n  props: {\n    title: String,\n    book: Object,\n    section: Object,\n    currentSectionIndex: Number,\n    currentSectionTotal: Number,\n    isPlaying: Boolean,\n    playInfo: Object\n  },\n  data () {\n    return {\n      visible: false,\n      speakCardVisible: false,\n      progress: 0,\n      readHeight: 0\n    }\n  },\n  methods: {\n    refreshProgress (p) {\n      this.progress = p\n      this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\n    },\n    updateText (promise) {\n      promise.then(() => {\n        const currentPage = this.rendition.currentLocation()\n        const cfibase = this.section.cfiBase\n        const cfistart = currentPage.start.cfi.replace(/.*!/, '').replace(/\\)/, '')\n        const cfiend = currentPage.end.cfi.replace(/.*!/, '').replace(/\\)/, '')\n        this.book.getRange(`epubcfi(${cfibase}!,${cfistart},${cfiend})`).then(range => {\n          let text = range.toString()\n          text = text.replace(/\\s(2,)/g, '')\n          text = text.replace(/\\r/g, '')\n          text = text.replace(/\\n/g, '')\n          text = text.replace(/\\t/g, '')\n          text = text.replace(/\\f/g, '')\n          this.$emit('updateText', text)\n        })\n      })\n    },\n    togglePlay () {\n      this.$parent.togglePlay()\n    },\n    prev () {\n      if (this.currentSectionIndex > 1) {\n        this.updateText(this.rendition.prev())\n        this.$emit('update:currentSectionIndex', this.currentSectionIndex - 1)\n        this.$parent.resetPlay()\n        setTimeout(() => {\n          this.$parent.togglePlay()\n        }, 500)\n      }\n    },\n    next () {\n      if (this.currentSectionIndex < this.currentSectionTotal) {\n        this.updateText(this.rendition.next())\n        this.$emit('update:currentSectionIndex', this.currentSectionIndex + 1)\n        this.$parent.resetPlay()\n        setTimeout(() => {\n          this.$parent.togglePlay()\n        }, 500)\n      }\n    },\n    display () {\n      if (!this.rendition) {\n        this.rendition = this.book.renderTo('book-read', {\n          width: window.innerWidth > 640 ? 640 : window.innerWidth,\n          height: this.readHeight,\n          method: 'default'\n        })\n        this.displayed = this.rendition.display(this.section.href)\n      } else {\n        this.displayed = this.rendition.display(this.section.href)\n      }\n    },\n    onProgressChange (progress) {\n    },\n    onProgressInput (progress) {\n      this.progress = progress\n      this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\n    },\n    hide () {\n      this.speakCardVisible = false\n      this.visible = false\n    },\n    show () {\n      this.visible = true\n      this.speakCardVisible = true\n      this.refresh()\n      this.$nextTick(() => {\n        this.display()\n      })\n    },\n    refresh () {\n      this.readHeight = window.innerHeight * 0.9 - realPx(40) - realPx(54) - realPx(46) - realPx(48) - realPx(60) - realPx(44)\n      // console.log(this.readHeight)\n      this.$refs.bookWrapper.style.height = this.readHeight + 'px'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n\n  .book-speak-mask-wrapper {\n    position: fixed;\n    left: 0;\n    top: 0;\n    z-index: 120;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, .5);\n    .book-speak-mask-card-wrapper {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      z-index: 120;\n      width: 100%;\n      height: 90%;\n      background: white;\n      border-radius: px2rem(10) px2rem(10) 0 0;\n      .pulldown-icon-wrapper {\n        width: 100%;\n        height: px2rem(40);\n        color: #ccc;\n        font-size: px2rem(40);\n        @include center;\n      }\n      .card-title-wrapper {\n        width: 100%;\n        height: px2rem(54);\n        display: flex;\n        padding: 0 px2rem(15);\n        box-sizing: border-box;\n        .icon-speak-wrapper {\n          flex: 0 0 px2rem(40);\n          @include left;\n          .icon-speak {\n            font-size: px2rem(24);\n            color: #999;\n          }\n        }\n        .speak-title-wrapper {\n          flex: 1;\n          @include left;\n          .speak-title {\n            font-size: px2rem(16);\n            font-weight: bold;\n            color: #666;\n          }\n        }\n        .read-fulltext-wrapper {\n          flex: 1;\n          @include right;\n          .read-fulltext {\n            font-size: px2rem(12);\n            font-weight: bold;\n            color: $color-blue;\n            background: rgba(74, 171, 255, .2);\n            padding: px2rem(5) px2rem(10);\n            box-sizing: border-box;\n            border-radius: px2rem(20);\n          }\n        }\n      }\n      .card-section-title-wrapper {\n        width: 100%;\n        height: px2rem(46);\n        padding: 0 px2rem(15);\n        box-sizing: border-box;\n        @include columnCenter;\n        .card-section-title-text {\n          font-size: px2rem(16);\n          color: #333;\n          font-weight: bold;\n        }\n        .card-section-sub-title-text {\n          font-size: px2rem(12);\n          color: #666;\n          margin-top: px2rem(5);\n        }\n      }\n      .setting-progress {\n        width: 100%;\n        height: px2rem(48);\n        @include columnTop;\n        .progress-wrapper {\n          flex: 1;\n          width: 100%;\n          @include center;\n          padding: 0 px2rem(30);\n          box-sizing: border-box;\n          .progress {\n            width: 100%;\n            -webkit-appearance: none;\n            height: px2rem(2);\n            background: -webkit-linear-gradient($color-blue, $color-blue) no-repeat, rgba(74, 171, 255, .2);\n            background-size: 0 100%;\n            &:focus {\n              outline: none;\n            }\n            &::-webkit-slider-thumb {\n              -webkit-appearance: none;\n              height: px2rem(20);\n              width: px2rem(20);\n              border-radius: 50%;\n              background: $color-blue;\n              border: none;\n              box-shadow: 0 4px 4px 0 rgba(0, 0, 0, .15);\n            }\n          }\n        }\n        .progress-text {\n          display: flex;\n          width: 100%;\n          padding: 0 px2rem(30);\n          box-sizing: border-box;\n          .progress-text-current {\n            flex: 1;\n            text-align: left;\n            font-size: px2rem(10);\n            color: #666;\n          }\n          .progress-text-left {\n            flex: 1;\n            text-align: right;\n            font-size: px2rem(10);\n            color: #666;\n          }\n        }\n      }\n      .playing-wrapper {\n        width: 100%;\n        height: px2rem(60);\n        @include center;\n        .icon-settings-wrapper {\n          flex: 1;\n          @include columnCenter;\n          .icon-settings {\n            font-size: px2rem(18);\n            color: #666;\n          }\n          .settings-text {\n            margin-top: px2rem(5);\n            font-size: px2rem(10);\n            color: #666;\n          }\n        }\n        .icon-play_backward {\n          font-size: px2rem(30);\n          color: $color-blue;\n          &:active {\n            opacity: .5;\n          }\n          &.not-use {\n            color: $color-blue-transparent;\n          }\n        }\n        .icon-play-wrapper {\n          flex: 0 0 px2rem(100);\n          @include center;\n          &:active {\n            opacity: .5;\n          }\n          .icon-play_go {\n            font-size: px2rem(50);\n            color: $color-blue;\n          }\n          .icon-play_pause {\n            font-size: px2rem(50);\n            color: $color-blue;\n          }\n        }\n        .icon-play_forward {\n          font-size: px2rem(30);\n          color: $color-blue;\n          &:active {\n            opacity: .5;\n          }\n          &.not-use {\n            color: $color-blue-transparent;\n          }\n        }\n        .icon-clock-wrapper {\n          flex: 1;\n          @include columnCenter;\n          .icon-clock2 {\n            font-size: px2rem(18);\n            color: #666;\n          }\n          .clock-text {\n            margin-top: px2rem(5);\n            font-size: px2rem(10);\n            color: #666;\n          }\n        }\n      }\n      .read-apply-wrapper {\n        width: 100%;\n        height: px2rem(20);\n        font-size: px2rem(10);\n        color: $color-green;\n        @include center;\n      }\n      .read-title-wrapper {\n        width: 100%;\n        height: px2rem(24);\n        box-sizing: border-box;\n        @include center;\n        .line {\n          flex: 1;\n          border-top: px2rem(1) solid #eee;\n          height: 0;\n        }\n        .read-title-text {\n          flex: 0 0 px2rem(130);\n          font-size: px2rem(14);\n          color: #666;\n          text-align: center;\n        }\n      }\n      .book-wrapper {\n        #read {\n          width: 100%;\n          height: 100%;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakMask.vue?vue&type=template&id=6d111f9e&scoped=true&\"\nimport script from \"./SpeakMask.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakMask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakMask.vue?vue&type=style&index=0&id=6d111f9e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d111f9e\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=style&index=0&id=61ce9983&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=style&index=0&id=61ce9983&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","<template>\n  <div class=\"book-speaking\">\n    <detail-title @back=\"back\" ref=\"title\"></detail-title>\n    <scroll class=\"content-wrapper\"\n            :top=\"42\"\n            :bottom=\"scrollBottom\"\n            :ifNoScroll=\"disableScroll\"\n            @onScroll=\"onScroll\"\n            ref=\"scroll\">\n      <book-info :cover=\"cover\"\n                 :title=\"title\"\n                 :author=\"author\"\n                 :desc=\"desc\"></book-info>\n      <div class=\"book-speak-title-wrapper\">\n        <div class=\"icon-speak-wrapper\">\n          <span class=\"icon-speak\"></span>\n        </div>\n        <div class=\"speak-title-wrapper\">\n          <span class=\"speak-title\">{{$t('speak.voice')}}</span>\n        </div>\n        <div class=\"icon-down-wrapper\" @click=\"toggleContent\">\n          <span :class=\"{'icon-down2': !ifShowContent, 'icon-up': ifShowContent}\"></span>\n        </div>\n      </div>\n      <div class=\"book-detail-content-wrapper\" v-show=\"ifShowContent\">\n        <div class=\"book-detail-content-list-wrapper\">\n          <div class=\"loading-text-wrapper\" v-if=\"!this.navigation\">\n            <span class=\"loading-text\">{{$t('detail.loading')}}</span>\n          </div>\n          <div class=\"book-detail-content-item-wrapper\">\n            <div class=\"book-detail-content-item\" v-for=\"(item, index) in flatNavigation\" :key=\"index\"\n                 @click=\"speak(item, index)\">\n              <speak-playing v-if=\"playingIndex === index\"\n                             :number=\"5\"\n                             ref=\"speakPlaying\"></speak-playing>\n              <div class=\"book-detail-content-navigation-text\" :class=\"{'is-playing': playingIndex === index}\"\n                   v-if=\"item.label\">{{item.label}}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <audio @canplay=\"onCanPlay\"\n             @timeupdate=\"onTimeUpdate\"\n             @ended=\"onAudioEnded\"\n             ref=\"audio\"></audio>\n    </scroll>\n    <bottom :chapter=\"chapter\"\n            :currentSectionIndex=\"currentSectionIndex\"\n            :currentSectionTotal=\"currentSectionTotal\"\n            :showPlay=\"showPlay\"\n            :isPlaying.sync=\"isPlaying\"\n            :playInfo=\"playInfo\"\n            @onPlayingCardClick=\"onPlayingCardClick\"></bottom>\n    <div class=\"book-wrapper\">\n      <div id=\"read\"></div>\n    </div>\n    <speak-window :title=\"this.chapter ? this.chapter.label : ''\"\n                  :book=\"book\"\n                  :section=\"section\"\n                  :currentSectionIndex.sync=\"currentSectionIndex\"\n                  :currentSectionTotal=\"currentSectionTotal\"\n                  :isPlaying.sync=\"isPlaying\"\n                  :playInfo=\"playInfo\"\n                  @updateText=\"updateText\"\n                  ref=\"speakWindow\"></speak-window>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport DetailTitle from '../../components/detail/DetaiTitle'\nimport BookInfo from '../../components/detail/BookInfo'\nimport Scroll from '../../components/common/Scroll'\nimport SpeakPlaying from '../../components/speak/SpeakPlaying'\nimport Bottom from '../../components/speak/SpeakBottom'\nimport SpeakWindow from '../../components/speak/SpeakMask'\nimport { findBook, getCategoryName } from '../../utils/store'\nimport { download, flatList } from '../../api/store'\nimport { getLocalForage } from '../../utils/localForage'\nimport { realPx } from '../../utils/utils'\nimport Epub from 'epubjs'\n\nglobal.ePub = Epub\n\nexport default {\n  components: {\n    DetailTitle,\n    BookInfo,\n    Scroll,\n    SpeakPlaying,\n    Bottom,\n    SpeakWindow\n  },\n  computed: {\n    currentMinute () {\n      const m = Math.floor(this.currentPlayingTime / 60)\n      return m < 10 ? '0' + m : m\n    },\n    currentSecond () {\n      const s = Math.floor(this.currentPlayingTime - parseInt(this.currentMinute) * 60)\n      return s < 10 ? '0' + s : s\n    },\n    totalMinute () {\n      const m = Math.floor(this.totalPlayingTime / 60)\n      return m < 10 ? '0' + m : m\n    },\n    totalSecond () {\n      const s = Math.floor(this.totalPlayingTime - parseInt(this.totalMinute) * 60)\n      return s < 10 ? '0' + s : s\n    },\n    leftMinute () {\n      const m = Math.floor((this.totalPlayingTime - this.currentPlayingTime) / 60)\n      return m < 10 ? '0' + m : m\n    },\n    leftSecond () {\n      const s = Math.floor((this.totalPlayingTime - this.currentPlayingTime) - parseInt(this.leftMinute) * 60)\n      return s < 10 ? '0' + s : s\n    },\n    playInfo () {\n      if (this.audioCanPlay) {\n        return {\n          currentMinute: this.currentMinute,\n          currentSecond: this.currentSecond,\n          totalMinute: this.totalMinute,\n          totalSecond: this.totalSecond,\n          leftMinute: this.leftMinute,\n          leftSecond: this.leftSecond\n        }\n      } else {\n        return null\n      }\n    },\n    lang () {\n      return this.metadata ? this.metadata.language : ''\n    },\n    disableScroll () {\n      if (this.$refs.speakWindow) {\n        return this.$refs.speakWindow.visible\n      } else {\n        return false\n      }\n    },\n    showPlay () {\n      return this.playingIndex >= 0\n    },\n    scrollBottom () {\n      return this.showPlay ? 116 : 52\n    },\n    chapter () {\n      return this.flatNavigation[this.playingIndex]\n    },\n    desc () {\n      if (this.description) {\n        return this.description.substring(0, 100)\n      } else {\n        return ''\n      }\n    },\n    flatNavigation () {\n      if (this.navigation) {\n        return Array.prototype.concat.apply([], Array.prototype.concat.apply([], this.doFlatNavigation(this.navigation.toc)))\n      } else {\n        return []\n      }\n    },\n    category () {\n      return this.bookItem ? getCategoryName(this.bookItem.category) : ''\n    },\n    title () {\n      return this.metadata ? this.metadata.title : ''\n    },\n    author () {\n      return this.metadata ? this.metadata.creator : ''\n    }\n  },\n  data () {\n    return {\n      bookItem: null,\n      book: null,\n      rendition: null,\n      metadata: null,\n      cover: null,\n      navigation: null,\n      description: null,\n      ifShowContent: true,\n      playingIndex: -1,\n      paragraph: null,\n      currentSectionIndex: null,\n      currentSectionTotal: null,\n      section: null,\n      isPlaying: false,\n      audio: null,\n      audioCanPlay: false,\n      currentPlayingTime: 0,\n      totalPlayingTime: 0,\n      playStatus: 0, // 0 - 未播放，1 - 播放中，2 - 暂停中\n      toastText: '',\n      isOnline: false\n    }\n  },\n  methods: {\n    createVoice (text) {\n      const xmlhttp = new XMLHttpRequest()\n      xmlhttp.open('GET', `${process.env.VUE_APP_VOICE_URL}/voice?text=${text}&lang=${this.lang.toLowerCase()}`, false)\n      xmlhttp.send()\n      const xmlDoc = xmlhttp.responseText\n      if (xmlDoc) {\n        const json = JSON.parse(xmlDoc)\n        if (json.path) {\n          this.$refs.audio.src = json.path\n          this.continuePlay()\n        } else {\n          this.showToast('播放失败，未生成链接')\n        }\n      } else {\n        this.showToast('播放失败')\n      }\n      /*\n        axios.create({\n          baseURL: process.env.VUE_APP_VOICE_URL + '/voice'\n        })({\n          method: 'get',\n          params: {\n            text: text,\n            lang: this.lang.toLowerCase()\n          }\n        }).then(response => {\n          if (response.status === 200) {\n            if (response.data.error === 0) {\n              const downloadUrl = response.data.path\n              console.log('开始下载...%s', downloadUrl)\n              downloadMp3(downloadUrl, blob => {\n                const url = window.URL.createObjectURL(blob)\n                console.log(blob, url)\n                this.$refs.audio.src = url\n                this.continuePlay()\n              })\n            } else {\n              this.showToast(response.data.msg)\n            }\n          } else {\n            this.showToast('请求失败')\n          }\n        }).catch(err => {\n          console.log(err)\n          this.showToast('播放失败')\n        })\n        */\n    },\n    togglePlay () {\n      if (!this.isPlaying) {\n        if (this.playStatus === 0) {\n          this.play()\n        } else if (this.playStatus === 2) {\n          this.continuePlay()\n        }\n      } else {\n        this.pausePlay()\n      }\n    },\n    speak (item, index) {\n      this.resetPlay()\n      this.playingIndex = index\n      this.$nextTick(() => {\n        this.$refs.scroll.refresh()\n      })\n      if (this.chapter) {\n        this.section = this.book.spine.get(this.chapter.href)\n        this.rendition.display(this.section.href).then(section => {\n          const currentPage = this.rendition.currentLocation()\n          const cfibase = section.cfiBase\n          const cfistart = currentPage.start.cfi.replace(/.*!/, '').replace(/\\)/, '')\n          const cfiend = currentPage.end.cfi.replace(/.*!/, '').replace(/\\)/, '')\n          this.currentSectionIndex = currentPage.start.displayed.page\n          this.currentSectionTotal = currentPage.start.displayed.total\n          const cfi = `epubcfi(${cfibase}!,${cfistart},${cfiend})`\n          // console.log(currentPage, cfi, cfibase, cfistart, cfiend)\n          this.book.getRange(cfi).then(range => {\n            let text = range.toLocaleString()\n            text = text.replace(/\\s(2,)/g, '')\n            text = text.replace(/\\r/g, '')\n            text = text.replace(/\\n/g, '')\n            text = text.replace(/\\t/g, '')\n            text = text.replace(/\\f/g, '')\n            this.updateText(text)\n          })\n        })\n      }\n    },\n    resetPlay () {\n      if (this.playStatus === 1) {\n        this.pausePlay()\n      }\n      this.isPlaying = false\n      this.playStatus = 0\n    },\n    play () {\n      this.createVoice(this.paragraph)\n    },\n    continuePlay () {\n      this.$refs.audio.play().then(() => {\n        this.$refs.speakPlaying[0].startAnimation()\n        this.isPlaying = true\n        this.playStatus = 1\n      })\n    },\n    pausePlay () {\n      this.$refs.audio.pause()\n      this.$refs.speakPlaying[0].stopAnimation()\n      this.isPlaying = false\n      this.playStatus = 2\n    },\n    onAudioEnded () {\n      this.resetPlay()\n      this.currentPlayingTime = this.$refs.audio.currentTime\n      const percent = Math.floor((this.currentPlayingTime / this.totalPlayingTime) * 100)\n      this.$refs.speakWindow.refreshProgress(percent)\n    },\n    onTimeUpdate () {\n      this.currentPlayingTime = this.$refs.audio.currentTime\n      const percent = Math.floor((this.currentPlayingTime / this.totalPlayingTime) * 100)\n      this.$refs.speakWindow.refreshProgress(percent)\n    },\n    onCanPlay () {\n      this.audioCanPlay = true\n      this.currentPlayingTime = this.$refs.audio.currentTime\n      this.totalPlayingTime = this.$refs.audio.duration\n    },\n    findBookFromList (fileName) {\n      flatList().then(response => {\n        if (response.status === 200) {\n          const bookList = response.data.data.filter(item => item.fileName === fileName)\n          if (bookList && bookList.length > 0) {\n            this.bookItem = bookList[0]\n            this.init()\n          }\n        }\n      })\n    },\n    init () {\n      const fileName = this.$route.query.fileName\n      if (!this.bookItem) {\n        this.bookItem = findBook(fileName)\n      }\n      if (this.bookItem) {\n        getLocalForage(fileName, (err, blob) => {\n          if (err || !blob) {\n            // this.downloadBook(fileName)\n            this.isOnline = true\n            const opf = this.$route.query.opf\n            if (opf) {\n              this.parseBook(opf)\n            }\n          } else {\n            this.isOnline = false\n            this.parseBook(blob)\n          }\n        })\n      } else {\n        this.findBookFromList(fileName)\n      }\n    },\n    downloadBook (fileName) {\n      download(\n        this.bookItem,\n        () => {\n          getLocalForage(fileName, (err, blob) => {\n            if (err) {\n              return\n            }\n            this.parseBook(blob)\n          })\n        })\n    },\n    parseBook (blob) {\n      this.book = new Epub(blob)\n      this.book.loaded.metadata.then(metadata => {\n        this.metadata = metadata\n      })\n      if (this.isOnline) {\n        this.book.coverUrl().then(url => {\n          this.cover = url\n        })\n      } else {\n        this.book.loaded.cover.then(cover => {\n          this.book.archive.createUrl(cover).then(url => {\n            this.cover = url\n          })\n        })\n      }\n      this.book.loaded.navigation.then(nav => {\n        this.navigation = nav\n      })\n      this.display()\n    },\n    back () {\n      this.$router.go(-1)\n    },\n    onScroll (offsetY) {\n      if (offsetY > realPx(42)) {\n        this.$refs.title.showShadow()\n      } else {\n        this.$refs.title.hideShadow()\n      }\n    },\n    toggleContent () {\n      this.ifShowContent = !this.ifShowContent\n    },\n    display () {\n      const height = window.innerHeight * 0.9 - realPx(40) - realPx(54) - realPx(46) - realPx(48) - realPx(60) - realPx(44)\n      this.rendition = this.book.renderTo('read', {\n        width: window.innerWidth,\n        height: height,\n        method: 'default'\n      })\n      this.rendition.display()\n    },\n    doFlatNavigation (content, deep = 1) {\n      const arr = []\n      content.forEach(item => {\n        item.deep = deep\n        arr.push(item)\n        if (item.subitems && item.subitems.length > 0) {\n          arr.push(this.doFlatNavigation(item.subitems, deep + 1))\n        }\n      })\n      return arr\n    },\n    showToast (text) {\n      this.simpleToast(text)\n    },\n    onPlayingCardClick () {\n      this.$refs.speakWindow.show()\n    },\n    updateText (text) {\n      this.paragraph = text\n    }\n  },\n  mounted () {\n    this.init()\n  }\n}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n\n  .book-speaking {\n    font-size: px2rem(16);\n    width: 100%;\n    background: white;\n    .content-wrapper {\n      width: 100%;\n      .book-speak-title-wrapper {\n        display: flex;\n        padding: px2rem(15);\n        box-sizing: border-box;\n        border-bottom: px2rem(1) solid #eee;\n        .icon-speak-wrapper {\n          flex: 0 0 px2rem(40);\n          @include left;\n          .icon-speak {\n            font-size: px2rem(24);\n            color: #999;\n          }\n        }\n        .speak-title-wrapper {\n          flex: 1;\n          @include left;\n          .speak-title {\n            font-size: px2rem(16);\n            font-weight: bold;\n            color: #666;\n          }\n        }\n        .icon-down-wrapper {\n          flex: 0 0 px2rem(40);\n          @include right;\n          .icon-up {\n            font-size: px2rem(12);\n            color: #999;\n          }\n          .icon-down2 {\n            font-size: px2rem(12);\n            color: #999;\n          }\n        }\n      }\n      .book-detail-content-wrapper {\n        width: 100%;\n        border-bottom: px2rem(1) solid #eee;\n        box-sizing: border-box;\n        .book-detail-content-list-wrapper {\n          padding: px2rem(10) px2rem(15);\n          .loading-text-wrapper {\n            width: 100%;\n            .loading-text {\n              font-size: px2rem(14);\n              color: #999;\n            }\n          }\n          .book-detail-content-item-wrapper {\n            .book-detail-content-item {\n              display: flex;\n              padding: px2rem(15) 0;\n              font-size: px2rem(14);\n              line-height: px2rem(16);\n              color: #333;\n              border-bottom: px2rem(1) solid #eee;\n              &:last-child {\n                border-bottom: none;\n              }\n              .book-detail-content-navigation-text {\n                flex: 1;\n                width: 100%;\n                @include ellipsis;\n                &.is-playing {\n                  color: $color-blue;\n                  font-weight: bold;\n                  margin-left: px2rem(10);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    .book-wrapper {\n      position: absolute;\n      bottom: -100%;\n      z-index: 100;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=style&index=0&id=567c8274&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=style&index=0&id=567c8274&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playing-item-wrapper\"},_vm._l((_vm.styles),function(item,index){return _c('div',{key:index,ref:\"playingItem\",refInFor:true,staticClass:\"playing-item\",style:(item)})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"playing-item-wrapper\">\n    <div class=\"playing-item\" :style=\"item\" v-for=\"(item, index) in styles\" :key=\"index\" ref=\"playingItem\"></div>\n  </div>\n</template>\n\n<script>\nimport { px2rem } from '@/utils/utils'\n\nexport default {\n  props: {\n    number: Number\n  },\n  computed: {\n    styles () {\n      const styles = new Array(this.number)\n      for (let i = 0; i < styles.length; i++) {\n        styles[i] = {\n          height: px2rem(this.random()) + 'rem'\n        }\n      }\n      return styles\n    }\n  },\n  methods: {\n    startAnimation () {\n      this.task = setInterval(() => {\n        this.$refs.playingItem.forEach(item => {\n          item.style.height = px2rem(this.random()) + 'rem'\n        })\n      }, 200)\n    },\n    stopAnimation () {\n      if (this.task) {\n        clearInterval(this.task)\n      }\n    },\n    random () {\n      return Math.ceil(Math.random() * 10)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n\n  .playing-item-wrapper {\n    @include center;\n    .playing-item {\n      flex: 0 0 px2rem(2);\n      width: px2rem(2);\n      height: px2rem(1);\n      background: $color-blue;\n      margin-left: px2rem(2);\n      transition: all .2s ease-in-out;\n      &:first-child {\n        margin: 0;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakPlaying.vue?vue&type=template&id=567c8274&scoped=true&\"\nimport script from \"./SpeakPlaying.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakPlaying.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakPlaying.vue?vue&type=style&index=0&id=567c8274&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"567c8274\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-speaking\"},[_c('detail-title',{ref:\"title\",on:{\"back\":_vm.back}}),_c('scroll',{ref:\"scroll\",staticClass:\"content-wrapper\",attrs:{\"top\":42,\"bottom\":_vm.scrollBottom,\"ifNoScroll\":_vm.disableScroll},on:{\"onScroll\":_vm.onScroll}},[_c('book-info',{attrs:{\"cover\":_vm.cover,\"title\":_vm.title,\"author\":_vm.author,\"desc\":_vm.desc}}),_c('div',{staticClass:\"book-speak-title-wrapper\"},[_c('div',{staticClass:\"icon-speak-wrapper\"},[_c('span',{staticClass:\"icon-speak\"})]),_c('div',{staticClass:\"speak-title-wrapper\"},[_c('span',{staticClass:\"speak-title\"},[_vm._v(_vm._s(_vm.$t('speak.voice')))])]),_c('div',{staticClass:\"icon-down-wrapper\",on:{\"click\":_vm.toggleContent}},[_c('span',{class:{'icon-down2': !_vm.ifShowContent, 'icon-up': _vm.ifShowContent}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifShowContent),expression:\"ifShowContent\"}],staticClass:\"book-detail-content-wrapper\"},[_c('div',{staticClass:\"book-detail-content-list-wrapper\"},[(!this.navigation)?_c('div',{staticClass:\"loading-text-wrapper\"},[_c('span',{staticClass:\"loading-text\"},[_vm._v(_vm._s(_vm.$t('detail.loading')))])]):_vm._e(),_c('div',{staticClass:\"book-detail-content-item-wrapper\"},_vm._l((_vm.flatNavigation),function(item,index){return _c('div',{key:index,staticClass:\"book-detail-content-item\",on:{\"click\":function($event){return _vm.speak(item, index)}}},[(_vm.playingIndex === index)?_c('speak-playing',{ref:\"speakPlaying\",refInFor:true,attrs:{\"number\":5}}):_vm._e(),(item.label)?_c('div',{staticClass:\"book-detail-content-navigation-text\",class:{'is-playing': _vm.playingIndex === index}},[_vm._v(_vm._s(item.label)+\"\\n            \")]):_vm._e()],1)}),0)])]),_c('audio',{ref:\"audio\",on:{\"canplay\":_vm.onCanPlay,\"timeupdate\":_vm.onTimeUpdate,\"ended\":_vm.onAudioEnded}})],1),_c('bottom',{attrs:{\"chapter\":_vm.chapter,\"currentSectionIndex\":_vm.currentSectionIndex,\"currentSectionTotal\":_vm.currentSectionTotal,\"showPlay\":_vm.showPlay,\"isPlaying\":_vm.isPlaying,\"playInfo\":_vm.playInfo},on:{\"update:isPlaying\":function($event){_vm.isPlaying=$event},\"update:is-playing\":function($event){_vm.isPlaying=$event},\"onPlayingCardClick\":_vm.onPlayingCardClick}}),_vm._m(0),_c('speak-window',{ref:\"speakWindow\",attrs:{\"title\":this.chapter ? this.chapter.label : '',\"book\":_vm.book,\"section\":_vm.section,\"currentSectionIndex\":_vm.currentSectionIndex,\"currentSectionTotal\":_vm.currentSectionTotal,\"isPlaying\":_vm.isPlaying,\"playInfo\":_vm.playInfo},on:{\"update:currentSectionIndex\":function($event){_vm.currentSectionIndex=$event},\"update:current-section-index\":function($event){_vm.currentSectionIndex=$event},\"update:isPlaying\":function($event){_vm.isPlaying=$event},\"update:is-playing\":function($event){_vm.isPlaying=$event},\"updateText\":_vm.updateText}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-wrapper\"},[_c('div',{attrs:{\"id\":\"read\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoreSpeaking.vue?vue&type=template&id=61ce9983&scoped=true&\"\nimport script from \"./StoreSpeaking.vue?vue&type=script&lang=js&\"\nexport * from \"./StoreSpeaking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StoreSpeaking.vue?vue&type=style&index=0&id=61ce9983&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61ce9983\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}